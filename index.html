<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Una Invitaci贸n para Laura</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Pinyon+Script&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'regency-blue': '#9abdc9',
                        'regency-dark': '#5d7e8c',
                        'dusty-rose': '#e6d0ce',
                        'antique-gold': '#d4af37',
                        'cream': '#fdfbf7',
                        'wax-red': '#8b0000',
                        'regency-green': '#2e5c3e', /* Color para WhatsApp */
                    },
                    fontFamily: {
                        'script': ['"Pinyon Script"', 'cursive'],
                        'serif': ['"Cormorant Garamond"', 'serif'],
                        'sans': ['"Montserrat"', 'sans-serif'],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'shake': 'shake 0.5s cubic-bezier(.36,.07,.19,.97) both',
                    },
                    keyframes: {
                        shake: {
                            '10%, 90%': { transform: 'translate3d(-1px, 0, 0)' },
                            '20%, 80%': { transform: 'translate3d(2px, 0, 0)' },
                            '30%, 50%, 70%': { transform: 'translate3d(-4px, 0, 0)' },
                            '40%, 60%': { transform: 'translate3d(4px, 0, 0)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #fdfbf7;
            color: #2c2c2c;
        }
        
        .paper-texture {
            background-color: #fdfbf7;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%239C92AC' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        /* Full Screen Layers */
        .fullscreen-layer {
            position: fixed;
            inset: 0;
            z-index: 100;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 1.2s ease-in-out, visibility 1.2s;
        }

        #password-overlay { z-index: 200; }
        #splash-screen { z-index: 100; }

        .layer-hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        /* Bot贸n Sello de Lacre */
        .wax-seal-btn {
            width: 90px;
            height: 90px;
            background: radial-gradient(circle at 30% 30%, #a61b1b, #600000);
            border-radius: 50%;
            box-shadow: 
                0 4px 10px rgba(0,0,0,0.4),
                inset 2px 2px 5px rgba(255,255,255,0.2),
                inset -2px -2px 5px rgba(0,0,0,0.3);
            border: 4px solid rgba(139, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
        }
        
        .wax-seal-btn::after {
            content: '';
            position: absolute;
            top: 5px; left: 5px; right: 5px; bottom: 5px;
            border-radius: 50%;
            border: 1px dashed rgba(255,255,255,0.3);
        }

        .wax-seal-btn:hover { transform: scale(1.1); }
        .wax-seal-btn:active { transform: scale(0.95); }

        /* Input Password Personalizado */
        .regency-input {
            background: transparent;
            border: none;
            border-bottom: 2px solid #d4af37;
            text-align: center;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.5rem;
            color: #5d7e8c;
            outline: none;
            padding: 0.5rem;
            transition: border-color 0.3s;
        }
        .regency-input:focus {
            border-bottom-color: #5d7e8c;
        }

        /* Animaci贸n Fade In Main */
        .fade-in-up {
            animation: fadeInUp 1.5s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes fadeInUp {
            to { opacity: 1; transform: translateY(0); }
        }

        .gold-border {
            border: 1px solid #d4af37;
            position: relative;
        }
        .gold-border::after {
            content: '';
            position: absolute;
            top: 4px; left: 4px; right: 4px; bottom: 4px;
            border: 1px solid #d4af37;
            pointer-events: none;
        }

        @media print {
            .no-print { display: none !important; }
            #splash-screen, #password-overlay { display: none !important; }
            body { background: white; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            .ticket-container { display: block !important; }
            .ticket-item { break-inside: avoid; page-break-after: always; border: 2px solid #5d7e8c; background-color: #fff !important; }
        }

        .flower {
            position: fixed;
            z-index: 0;
            opacity: 0.6;
            animation: float 10s infinite ease-in-out;
            pointer-events: none;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }
    </style>
</head>
<body class="paper-texture min-h-screen flex flex-col items-center overflow-x-hidden selection:bg-regency-blue selection:text-white">

    <!-- PASSWORD OVERLAY (First Layer) -->
    <div id="password-overlay" class="paper-texture fullscreen-layer">
        <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/damask.png')] opacity-10"></div>
        
        <div class="relative z-10 bg-white/95 p-12 shadow-2xl max-w-md mx-4 text-center border-double border-4 border-regency-dark" id="login-box">
            <h2 class="font-script text-5xl text-regency-dark mb-2">Palabra Clave</h2>
            <p class="font-sans text-xs uppercase tracking-widest text-gray-500 mb-8">Solo para los ojos de la Dama</p>
            
            <div class="flex flex-col gap-6 items-center">
                <input type="password" id="password-input" placeholder="Escriba aqu铆..." class="regency-input w-full" onkeypress="handleKeyPress(event)">
                
                <button onclick="checkPassword()" class="px-8 py-2 bg-regency-dark text-white font-serif text-lg hover:bg-regency-blue transition-colors shadow-md">
                    Entrar
                </button>
            </div>
            <p id="error-msg" class="text-wax-red text-sm font-serif mt-4 opacity-0 transition-opacity">Contrase帽a incorrecta, milady.</p>
        </div>
    </div>

    <!-- SPLASH PAGE / PORTADA (Second Layer) -->
    <div id="splash-screen" class="paper-texture fullscreen-layer layer-hidden">
        <!-- Decoraci贸n de Fondo -->
        <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/damask.png')] opacity-10"></div>
        <div class="absolute top-0 left-0 w-full h-full pointer-events-none overflow-hidden">
            <div class="flower text-4xl top-10 left-10"></div>
            <div class="flower text-3xl bottom-10 right-10 animation-delay-2000"></div>
        </div>

        <!-- Carta Cerrada -->
        <div class="relative z-10 bg-white/90 p-12 md:p-16 shadow-2xl max-w-lg mx-4 text-center border-double border-4 border-antique-gold transform transition-all duration-700">
            
            <p class="font-sans text-xs tracking-[0.3em] uppercase text-gray-500 mb-6">De parte de Nery</p>
            
            <div class="mb-4">
                <p class="font-script text-4xl text-regency-dark">Con amor,</p>
            </div>

            <h1 class="font-script text-7xl md:text-8xl text-regency-blue mb-6 leading-tight drop-shadow-sm">
                Lady Laura
            </h1>

            <p class="font-serif text-2xl text-regency-dark italic mb-10 border-b border-antique-gold/30 pb-4 inline-block">
                Feliz San Valent铆n
            </p>

            <div class="flex justify-center mt-4">
                <button onclick="openLetter()" class="wax-seal-btn group" aria-label="Abrir Carta">
                    <span class="font-serif text-white font-bold text-xs uppercase tracking-widest group-hover:opacity-100 transition-opacity">Abrir</span>
                </button>
            </div>
            
            <p class="mt-4 text-[10px] text-gray-400 uppercase tracking-widest">Toca el sello para abrir</p>
        </div>
    </div>

    <!-- MAIN CONTENT (Final Layer) -->
    <main class="relative z-10 w-full max-w-3xl mx-auto px-6 py-12 no-print">
        
        <!-- Elementos decorativos de fondo -->
        <div class="flower text-2xl top-10 left-10 delay-100"></div>
        <div class="flower text-3xl top-40 right-20 delay-700"></div>
        <div class="flower text-xl bottom-20 left-1/4 delay-300"></div>

        <!-- Tarjeta de Invitaci贸n (ID para animar) -->
        <div id="invitation-card" class="opacity-0 bg-white shadow-2xl rounded-sm p-8 md:p-12 border-t-8 border-regency-blue relative overflow-hidden">
            <!-- Marca de agua de fondo -->
            <div class="absolute inset-0 opacity-5 bg-[url('https://www.transparenttextures.com/patterns/damask.png')]"></div>

            <div class="relative z-10 text-center">
                <p class="font-sans text-xs tracking-[0.3em] text-regency-dark uppercase mb-4">La presencia de</p>
                
                <h1 class="font-script text-6xl md:text-7xl text-regency-dark mb-2">Lady Laura Brazales</h1>
                
                <div class="w-16 h-px bg-antique-gold mx-auto my-6"></div>
                
                <p class="font-serif text-xl md:text-2xl text-gray-600 italic leading-relaxed mb-8">
                    "Es con gran afecto que extiendo esta invitaci贸n para una velada sin igual. 
                    Perm铆tenos transportarnos a una 茅poca de romance y melod铆as a la luz de velas."
                </p>

                <!-- Tarjeta del Evento -->
                <div class="gold-border bg-cream p-6 mb-8 transform rotate-1 hover:rotate-0 transition-transform duration-500 shadow-lg">
                    <div class="flex flex-col md:flex-row gap-6 items-center">
                        <img src="https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&q=80&w=400" 
                             alt="Candlelight" 
                             class="w-32 h-32 object-cover rounded-full border-4 border-white shadow-md grayscale-[30%]">
                        
                        <div class="text-left flex-1">
                            <h2 class="font-serif text-3xl text-regency-dark font-bold mb-2">Candlelight: Bridgerton</h2>
                            <div class="space-y-1 font-sans text-sm text-gray-700">
                                <p class="flex items-center"><span class="w-4 mr-2"></span> ICOMEM, Madrid</p>
                                <p class="flex items-center"><span class="w-4 mr-2"></span> Viernes, 10 de Abril</p>
                                <p class="flex items-center"><span class="w-4 mr-2"></span> 21:00 Horas | Zona A</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Botones de Acci贸n -->
                <div class="flex flex-col md:flex-row justify-center gap-4 mt-8 flex-wrap">
                    <button onclick="window.print()" class="group relative px-6 py-3 bg-regency-dark text-white font-sans text-xs md:text-sm tracking-widest uppercase hover:bg-regency-blue transition-colors duration-300 shadow-md">
                        <span class="relative z-10 flex items-center justify-center">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path></svg>
                            Imprimir
                        </span>
                    </button>

                    <!-- Bot贸n WhatsApp -->
                    <button onclick="shareWhatsApp()" class="group relative px-6 py-3 bg-regency-green text-white font-sans text-xs md:text-sm tracking-widest uppercase hover:bg-green-700 transition-colors duration-300 shadow-md">
                        <span class="relative z-10 flex items-center justify-center">
                            <!-- Icono WhatsApp -->
                            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                            WhatsApp PDF
                        </span>
                    </button>
                    
                    <button onclick="addToCalendar()" class="group relative px-6 py-3 bg-white border border-antique-gold text-antique-gold font-sans text-xs md:text-sm tracking-widest uppercase hover:bg-antique-gold hover:text-white transition-colors duration-300 shadow-sm">
                        <span class="relative z-10 flex items-center justify-center">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                            Agendar
                        </span>
                    </button>

                    <button onclick="openMap()" class="group relative px-6 py-3 bg-white border border-regency-dark text-regency-dark font-sans text-xs md:text-sm tracking-widest uppercase hover:bg-regency-dark hover:text-white transition-colors duration-300 shadow-sm">
                        <span class="relative z-10 flex items-center justify-center">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                            Mapa
                        </span>
                    </button>
                </div>
            </div>
        </div>
        
        <footer class="text-center mt-12 opacity-60">
            <p class="font-script text-3xl text-regency-dark">Feliz San Valent铆n</p>
        </footer>
    </main>

    <!-- rea de Impresi贸n (Oculta en pantalla normal) -->
    <div id="print-area" class="hidden print:block w-full bg-white p-0">
        <template id="ticket-template">
            <div class="ticket-item relative w-full max-w-[210mm] mx-auto h-[95mm] mb-8 border-2 border-regency-dark bg-white text-black overflow-hidden flex">
                <div class="w-[70%] p-6 border-r-2 border-dashed border-gray-300 relative">
                    <div class="absolute top-2 left-2 w-4 h-4 border-t border-l border-antique-gold"></div>
                    <div class="absolute bottom-2 right-2 w-4 h-4 border-b border-r border-antique-gold"></div>
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <span class="block text-xs uppercase tracking-[0.2em] text-gray-500 mb-1">Fever Presents</span>
                            <h1 class="font-serif text-3xl text-regency-dark font-bold leading-none">Candlelight</h1>
                            <h2 class="font-script text-2xl text-gray-600 mt-1">Lo Mejor de Bridgerton</h2>
                        </div>
                        <div class="text-right">
                            <span class="block bg-regency-blue text-white text-xs px-2 py-1 uppercase tracking-widest font-bold">Zona A</span>
                            <span class="block text-[10px] text-gray-400 mt-1">Entrada <span class="ticket-index">1/2</span></span>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4 mt-6">
                        <div>
                            <p class="text-[10px] uppercase text-gray-400 tracking-wider">Fecha</p>
                            <p class="font-serif text-lg font-bold">Viernes, 10 Abr</p>
                        </div>
                        <div>
                            <p class="text-[10px] uppercase text-gray-400 tracking-wider">Hora</p>
                            <p class="font-serif text-lg font-bold">21:00 <span class="text-sm font-normal">(09:00 PM)</span></p>
                        </div>
                        <div class="col-span-2">
                            <p class="text-[10px] uppercase text-gray-400 tracking-wider">Ubicaci贸n</p>
                            <p class="font-serif text-sm">Ilustre Colegio Oficial de M茅dicos de Madrid</p>
                            <p class="text-xs text-gray-500">Calle de Santa Isabel, 51, Madrid</p>
                        </div>
                    </div>
                    <div class="absolute bottom-4 left-6 text-[10px] text-gray-400 italic order-info">
                        Orden: R104767892 | Un regalo de Nery Joseph Melgar Canelo
                    </div>
                </div>
                <div class="w-[30%] bg-gray-50 p-4 flex flex-col items-center justify-center text-center relative">
                    <div class="w-4 h-4 rounded-full bg-white absolute -left-2 top-1/2 transform -translate-y-1/2 border-r border-gray-300"></div>
                    <h3 class="font-sans text-xs font-bold uppercase tracking-widest mb-3 text-regency-dark">Escanear</h3>
                    <div class="bg-white p-2 border border-gray-200 shadow-sm mb-2">
                        <!-- Usamos crossorigin anonymous para evitar problemas de CORS en html2canvas -->
                        <img src="" alt="QR" class="qr-img w-24 h-24 object-contain" crossorigin="anonymous">
                    </div>
                    <p class="ticket-id font-mono text-[9px] text-gray-500 tracking-tighter mb-1">ID: 120818726</p>
                    <p class="qr-code-text font-mono text-[8px] break-all px-2 text-gray-400 leading-tight"></p>
                </div>
            </div>
        </template>
        <div id="tickets-container"></div>
    </div>

    <script>
        // --- LOGIC: PASSWORD ---
        function checkPassword() {
            const input = document.getElementById('password-input');
            const errorMsg = document.getElementById('error-msg');
            const loginBox = document.getElementById('login-box');
            
            if (input.value === "Esquitino") {
                const overlay = document.getElementById('password-overlay');
                const splash = document.getElementById('splash-screen');
                overlay.classList.add('layer-hidden');
                splash.classList.remove('layer-hidden');
            } else {
                loginBox.classList.remove('animate-shake');
                void loginBox.offsetWidth; // Trigger reflow
                loginBox.classList.add('animate-shake');
                errorMsg.classList.remove('opacity-0');
                input.value = "";
                input.focus();
            }
        }

        function handleKeyPress(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        }

        // --- LOGIC: TRANSITION TO MAIN ---
        function openLetter() {
            const splash = document.getElementById('splash-screen');
            const mainCard = document.getElementById('invitation-card');
            splash.classList.add('layer-hidden');
            setTimeout(() => {
                mainCard.classList.remove('opacity-0');
                mainCard.classList.add('fade-in-up');
            }, 300);
        }

        // --- LOGIC: WHATSAPP PDF SHARE ---
        function shareWhatsApp() {
            const btn = document.querySelector('button[onclick="shareWhatsApp()"]');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<span class="animate-pulse">Generando PDF...</span>';

            const sourceElement = document.getElementById('tickets-container').cloneNode(true);
            
            const tempContainer = document.createElement('div');
            tempContainer.style.position = 'absolute';
            tempContainer.style.left = '-9999px';
            tempContainer.style.top = '0px';
            tempContainer.style.width = '210mm';
            tempContainer.appendChild(sourceElement);
            document.body.appendChild(tempContainer);

            // IMPORTANTE: useCORS: true para que renderice los c贸digos QR externos
            const opt = {
                margin:       10,
                filename:     'Entradas_Lady_Laura.pdf',
                image:        { type: 'jpeg', quality: 0.98 },
                html2canvas:  { scale: 2, useCORS: true, allowTaint: true }, 
                jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };

            html2pdf().from(sourceElement).set(opt).save().then(() => {
                document.body.removeChild(tempContainer);
                btn.innerHTML = originalText;

                const message = encodeURIComponent("隆Hola! Aqu铆 est谩n mis entradas para Candlelight Bridgerton.");
                const whatsappUrl = `https://wa.me/?text=${message}`;
                
                setTimeout(() => {
                    window.open(whatsappUrl, '_blank');
                    alert("El PDF se ha descargado. Recuerda tenerlo a mano amor! グ.");
                }, 1000);
            });
        }

        // --- LOGIC: TICKETS & MAPS ---
        const tickets = [
            { 
                id: "1/2", 
                ticketId: "120818726",
                orderId: "R104767892",
                qrCode: "K8DY8E5CYKTEF5JMP996", 
                qrText: "K8DY8E5CYKTEF5JMP996" 
            },
            { 
                id: "2/2", 
                ticketId: "120818726", 
                orderId: "R104767892",
                qrCode: "P6EFVDC9JPE27VMK27KW", 
                qrText: "P6EFVDC9JPE27VMK27KW" 
            }
        ];

        const container = document.getElementById('tickets-container');
        const template = document.getElementById('ticket-template');

        tickets.forEach(ticket => {
            const clone = template.content.cloneNode(true);
            const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${ticket.qrCode}`;
            
            // Asignar datos din谩micos
            clone.querySelector('.qr-img').src = qrUrl;
            clone.querySelector('.qr-code-text').textContent = ticket.qrText;
            clone.querySelector('.ticket-id').textContent = `ID: ${ticket.ticketId}`;
            clone.querySelector('.order-info').textContent = `Orden: ${ticket.orderId} | Un regalo de Nery Joseph Melgar Canelo`;
            clone.querySelector('.ticket-index').textContent = ticket.id;

            container.appendChild(clone);
        });

        function openMap() {
             const mapUrl = "https://www.google.com/maps/search/?api=1&query=Ilustre+Colegio+Oficial+de+M茅dicos+de+Madrid+Calle+de+Santa+Isabel+51";
             window.open(mapUrl, '_blank');
        }

        function addToCalendar() {
            const title = encodeURIComponent("Candlelight: Lo Mejor de Bridgerton");
            const dates = "20260410T190000Z/20260410T203000Z"; 
            const mapLink = "https://www.google.com/maps/search/?api=1&query=Ilustre+Colegio+Oficial+de+M茅dicos+de+Madrid";
            const details = encodeURIComponent(
                "Una velada rom谩ntica.\n\n" +
                "Regalo de San Valent铆n de Nery Joseph Melgar Canelo.\n" +
                "Ticket IDs: 120818726\n\n" +
                " Ver Ubicaci贸n: " + mapLink + "\n\n" +
                "Recuerda llevar las entradas impresas o en el m贸vil."
            );
            const location = encodeURIComponent("Ilustre Colegio Oficial de M茅dicos de Madrid (ICOMEM), Calle de Santa Isabel, 51, Madrid");
            const url = `https://www.google.com/calendar/render?action=TEMPLATE&text=${title}&dates=${dates}&details=${details}&location=${location}&sf=true&output=xml`;
            window.open(url, '_blank');
        }
    </script>
</body>
</html>